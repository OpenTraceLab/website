
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Open-source logic analysis â€” capture, view, and decode traces.">
      
      
      
        <link rel="canonical" href="https://opentracelab.github.io/website/dev/hardware/misc-devices/high-precision-analog/">
      
      
      
      
      <link rel="icon" href="../../../docs-assets/logos/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.20">
    
    
      
        <title>High Precision Analog - OpenTraceLab</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.e53b48f4.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../../overrides/assets/styles/extra.css">
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#high-precision-analog" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <div data-md-color-scheme="default" data-md-component="outdated" hidden>
        
      </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../.." title="OpenTraceLab" class="md-header__button md-logo" aria-label="OpenTraceLab" data-md-component="logo">
      
  <img src="../../../logo.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            OpenTraceLab
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              High Precision Analog
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-hidden="true"  type="radio" name="__palette" id="__palette_0">
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/OpenTraceLab/website" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    OpenTraceLab/website
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../.." class="md-tabs__link">
        
  
  
    
  
  Home

      </a>
    </li>
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../get-started/install/" class="md-tabs__link">
          
  
  
  Get started

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../opentracecapture/overview/" class="md-tabs__link">
          
  
  
  OpenTraceCapture

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../opentraceview/overview/" class="md-tabs__link">
          
  
  
  OpenTraceView

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../opentracedecode/overview/" class="md-tabs__link">
          
  
  
  OpenTraceDecode

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../opentracebroadcaster/overview/" class="md-tabs__link">
          
  
  
  OpenTraceBroadcaster

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../supported-hardware/" class="md-tabs__link">
          
  
  
  Hardware

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../community/contributing/" class="md-tabs__link">
          
  
  
  Community

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../about/mission/" class="md-tabs__link">
          
  
  
  About

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../legal/license/" class="md-tabs__link">
          
  
  
  Legal

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


  

<nav class="md-nav md-nav--primary md-nav--lifted md-nav--integrated" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="OpenTraceLab" class="md-nav__button md-logo" aria-label="OpenTraceLab" data-md-component="logo">
      
  <img src="../../../logo.png" alt="logo">

    </a>
    OpenTraceLab
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/OpenTraceLab/website" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    OpenTraceLab/website
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Home
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Get started
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Get started
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../get-started/install/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Install
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../get-started/capture-first-trace/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Capture your first trace
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../get-started/faq/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    FAQ
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    OpenTraceCapture
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            OpenTraceCapture
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../opentracecapture/overview/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Overview
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../api/opentracecapture-cxx/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    C++ API
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    OpenTraceView
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            OpenTraceView
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../opentraceview/overview/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Overview
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../opentraceview/architecture/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Architecture
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../api/opentraceview/index.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    API
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    OpenTraceDecode
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            OpenTraceDecode
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../opentracedecode/overview/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Overview
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../opentracedecode/decoder-howto/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Decoder HOWTO
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../opentracedecode/decoder-api/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Decoder API
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../api/opentracedecode/index.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    API
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" >
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    OpenTraceBroadcaster
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            OpenTraceBroadcaster
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../opentracebroadcaster/overview/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Overview
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7" >
        
          
          <label class="md-nav__link" for="__nav_7" id="__nav_7_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Hardware
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7">
            <span class="md-nav__icon md-icon"></span>
            Hardware
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../supported-hardware/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Supported Devices
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_2" >
        
          
          <label class="md-nav__link" for="__nav_7_2" id="__nav_7_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Logic Analyzers
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_7_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_2">
            <span class="md-nav__icon md-icon"></span>
            Logic Analyzers
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../logic-analyzer/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Overview
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../logic-analyzer/fx2lafw/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    FX2-based Devices
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../logic-analyzer/saleae-logic/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Saleae Logic Series
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../logic-analyzer/kingst-la-series/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Kingst LA Series
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../logic-analyzer/openbench-logic-sniffer/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    OpenBench LogicSniffer
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_3" >
        
          
          <label class="md-nav__link" for="__nav_7_3" id="__nav_7_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Multimeters
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_7_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_3">
            <span class="md-nav__icon md-icon"></span>
            Multimeters
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../multimeter/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Overview
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../multimeter/uni-t/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    UNI-T Series
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../multimeter/voltcraft/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Voltcraft Series
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../multimeter/brymen/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Brymen Series
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_4" >
        
          
          <label class="md-nav__link" for="__nav_7_4" id="__nav_7_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Oscilloscopes
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_7_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_4">
            <span class="md-nav__icon md-icon"></span>
            Oscilloscopes
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../oscilloscope/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Overview
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../oscilloscope/rigol-ds/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Rigol DS Series
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../oscilloscope/hantek-dso/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Hantek DSO Series
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../oscilloscope/siglent-sds/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Siglent SDS Series
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_5" >
        
          
          <label class="md-nav__link" for="__nav_7_5" id="__nav_7_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Power Supplies
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_7_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_5">
            <span class="md-nav__icon md-icon"></span>
            Power Supplies
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../power-supply/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Overview
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../power-supply/korad/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Korad Series
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../power-supply/rigol-dp/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Rigol DP Series
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_6" >
        
          
          <label class="md-nav__link" for="__nav_7_6" id="__nav_7_6_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Function Generators
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_7_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_6">
            <span class="md-nav__icon md-icon"></span>
            Function Generators
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../function-generator/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Overview
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_7" >
        
          
          <label class="md-nav__link" for="__nav_7_7" id="__nav_7_7_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Thermometers
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_7_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_7">
            <span class="md-nav__icon md-icon"></span>
            Thermometers
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../thermometer/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Overview
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8" >
        
          
          <label class="md-nav__link" for="__nav_8" id="__nav_8_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Community
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8">
            <span class="md-nav__icon md-icon"></span>
            Community
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../community/contributing/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Contributing
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../community/code-of-conduct/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Code of Conduct
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../community/governance/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Governance
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../community/testing/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Testing
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_9" >
        
          
          <label class="md-nav__link" for="__nav_9" id="__nav_9_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    About
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_9_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_9">
            <span class="md-nav__icon md-icon"></span>
            About
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../about/mission/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Mission
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../about/roadmap/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Roadmap
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_10" >
        
          
          <label class="md-nav__link" for="__nav_10" id="__nav_10_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Legal
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_10_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_10">
            <span class="md-nav__icon md-icon"></span>
            Legal
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../legal/license/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    License
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../legal/attribution/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Attribution
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
  
                  


  
    <a href="https://github.com/OpenTraceLab/website/edit/main/docs/hardware/misc-devices/high-precision-analog.md" title="Edit this page" class="md-content__button md-icon" rel="edit">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75z"/></svg>
    </a>
  
  
    
      
    
    <a href="https://github.com/OpenTraceLab/website/raw/main/docs/hardware/misc-devices/high-precision-analog.md" title="View source of this page" class="md-content__button md-icon">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0 8a5 5 0 0 1-5-5 5 5 0 0 1 5-5 5 5 0 0 1 5 5 5 5 0 0 1-5 5m0-12.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5"/></svg>
    </a>
  


<h1 id="high-precision-analog">High Precision Analog<a class="headerlink" href="#high-precision-analog" title="Permanent link">&para;</a></h1>
<p><strong>Status</strong>: The <strong><em>Exact representation of raw data and metadata</em></strong> proposal below has been decided upon and is currently being implemented in <em>OpenTraceCapture</em> as of 12/2014.</p>
<h2 id="contents">Contents<a class="headerlink" href="#contents" title="Permanent link">&para;</a></h2>
<p>- <em>1 Problem statement</em> - <em>1.1 Some numbers are just plain wrong</em> - <em>1.2 Resolution</em> - <em>1.2.1 Understanding precision</em> - <em>1.2.2 The OpenTraceLab dilemma</em> - <em>1.3 Accuracy</em> - <em>1.3.1 Understanding accuracy</em> - <em>1.3.1.1 Offset error</em> - <em>1.3.1.2 Linearity error</em> - <em>1.3.1.3 Nonlinear error</em> - <em>1.3.1.4 Calibration</em> - <em>1.3.2 The OpenTraceLab dilemma</em> - <em>1.4 Displayed value</em> - <em>2 Proposed solutions</em> - <em>2.1 Exact decimal representation</em> - <em>2.2 Inexact floating-point representation with precision metadata</em> - <em>2.3 Exact representation of raw data and metadata</em> - <em>2.3.1 Examples</em> - <em>3 Resources</em></p>
<h2 id="problem-statement-we-have-a-problem-with-the-current-sr_df_analog-packets-the-analog-numbers-are-passed-along-as-floats-platform-specific-versions-of-the-c-float-type-the-following-summarizes-what-we-need-to-solve-some-numbers-are-just-plain-wrong-a-floating-point-type-is-well-known-to-be-unable-to-store-accurate-representations-of-some-numbers-as-mentioned-here-this-hits-us-hard-in-one-driver-the-analog-value-is-extracted-from-a-device-packet-by-dividing-the-derived-value-by-10-to-convert-to-the-single-digit-after-the-decimal-point-that-is-always-implied-a-value-of-354-turns-into-not-354-but-35400002-353-turns-into-35299999-note-that-these-numbers-are-representations-of-the-floats-with-printfs-default-precision-of-6-digits-after-the-decimal-point-using-20f-produces-3539999999999999857891-the-numbers-need-to-be-stored-and-transmitted-exactly-as-they-were-input-by-the-driver-resolution-understanding-precision-precision-is-casually-defined-as-how-close-together-a-series-of-measurements-of-the-same-quantity-are-however-this-definition-is-confusing-when-one-speaks-of-the-precision-of-one-measurement-a-meter-stick-with-markings-1-cm-apart-can-only-produce-a-precision-of-1-cm-for-example-a-measurement-of-23-cm-implies-that-the-value-is-anywhere-between-225-cm-and-235-cm-on-the-other-hand-a-stick-with-marking-1-mm-apart-will-produce-a-more-precise-measurement-230-cm-implies-that-the-value-is-anywhere-between-2295-cm-and-2305-cm-it-might-be-tempting-to-think-of-these-measurements-as-1-cm-precision-23-cm-05-cm-wrong-1-mm-precision-23-cm-005-cm-wrong-the-correct-way-to-denote-precision-is-via-the-number-of-significant-figures-presented-with-the-measurement-1-cm-precision-23-cm-correct-implies-measurement-is-between-225-cm-and-235-cm-1-mm-precision-230-cm-correct-implies-measurement-is-between-2295-cm-and-2305-cm-it-is-extremely-important-to-note-that-trailing-zeroes-are-significant-the-precision-is-inferred-from-the-number-of-significant-digits-the-opentracelab-dilemma-returning-to-our-problem-a-floating-point-data-type-has-no-notion-whatsoever-about-the-precision-of-the-measurement-it-has-an-intrinsic-precision-related-to-the-size-number-of-bits-of-the-mantissa-which-has-nothing-to-do-with-the-precision-of-the-measurement-consider-a-device-which-always-outputs-a-single-digit-after-the-decimal-point-there-is-no-more-information-beyond-that-digit-but-we-have-no-way-of-communicating-that-fact-to-the-frontend-the-float-type-doesnt-store-this-information-along-with-the-value-and-indeed-changes-the-input-value-in-such-a-way-that-the-value-cant-even-be-truncated-so-as-to-make-the-resolution-obvious-or-irrelevant-there-is-simply-no-way-that-a-frontend-can-receive-35400002-and-conclude-that-354-is-the-proper-number-to-display-removing-trailing-zeroes-is-not-a-solution-as-a-value-of-350-might-incorrectly-be-truncated-to-35-while-a-value-such-as-354000-might-reasonably-be-displayed-as-354-it-is-nevertheless-helpful-and-common-in-test-measurement-gear-to-display-numbers-at-their-full-resolution-this-gives-a-visual-indication-of-that-resolution-a-frontend-shouldnt-have-to-assume-or-truncate-anything-it-should-have-exact-information-about-what-the-device-provided-we-need-precision-information-transmitted-along-with-the-value-accuracy-do-not-confuse-accuracy-with-precision-understanding-accuracy-accuracy-refers-to-how-close-a-measurement-is-to-the-value-being-measured-a-very-common-and-correct-way-to-describe-accuracy-is-the-uncertainty-of-a-measurement-offset-error-lets-return-to-our-meter-stick-example-the-meter-stick-with-1-mm-markings-might-be-missing-a-2-cm-chunk-it-cannot-be-accurate-the-measurement-in-that-case-would-be-presented-as-230-cm-20-cm-note-that-although-the-precision-is-005-cm-the-accuracy-is-completely-different-linearity-error-a-meter-stick-might-for-example-be-calibrated-at-25-c-but-specified-to-be-accurate-from-10-c-to-60-c-due-to-contraction-and-dilation-at-10-c-the-230-mark-might-be-closer-to-228-cm-while-at-60-c-it-might-be-closer-to-233-cm-in-this-example-temperature-is-an-external-factor-which-affects-the-final-measurement-it-is-unreasonable-or-impossible-to-estimate-the-error-exactly-especially-since-the-error-grows-linearly-with-the-size-of-the-measurement-this-error-is-usually-included-in-the-specifications-of-the-device-as-an-unknown-in-this-case-it-would-be-reasonable-for-the-accuracy-to-be-specified-as-15-of-measurement-so-that-at-230-cm-the-value-is-230-03-cm-at-860-cm-the-value-is-860-12-cm-again-the-accuracy-and-precision-are-not-the-same-nonlinear-error-nonlinear-errors-are-errors-which-are-neither-an-offset-error-nor-a-linearity-error-they-are-beyond-the-scope-of-this-article-a-devices-stated-accuracy-usually-accounts-for-this-type-of-error-calibration-generally-the-accuracy-as-specified-by-the-manufacturer-is-warranted-only-as-long-as-the-device-is-calibrated-compared-to-a-known-source-not-necessarily-always-adjusted-regularly-some-high-end-multimeters-might-store-the-last-calibration-date-and-possibly-other-parameters-relevant-for-high-performance-measurements-eg-temperature-power-on-time-number-of-power-cycles-probably-it-would-be-best-so-add-such-information-to-the-data-if-available-the-opentracelab-dilemma-the-value-supplied-by-a-device-may-differ-from-its-resolution-it-may-supply-354-but-have-a-resolution-that-makes-this-35400-but-this-can-still-differ-from-how-accurately-the-device-can-make-a-measurement-this-accuracy-is-rarely-supplied-by-the-device-along-with-the-measurement-but-commonly-stated-in-the-devices-specifications-for-example-the-fluke-187-has-a-dc-voltage-measurement-specification-stated-as-accuracy-00255-max-resolution-1-v-this-defines-the-accuracy-of-the-measurement-as-0025-of-the-value-plus-5-counts-least-significant-digits-on-the-display-the-true-value-can-be-anywhere-up-or-down-by-this-amount-from-the-displayed-value-the-given-maximum-resolution-is-not-the-same-for-every-range-the-fluke-187-has-a-resolution-of-50000-counts-so-in-order-to-get-the-maximum-resolution-of-1-v-the-device-must-be-set-to-the-50-mv-50000-v-range-since-the-device-can-only-distinguish-50000-values-a-measurement-of-13259-for-example-will-have-a-resolution-of-01-mv-the-device-will-not-be-able-to-distinguish-voltage-differences-below-that-value-if-it-could-then-the-measurement-would-be-1325900-and-the-device-would-have-to-be-a-5000000-5-million-count-expanding-on-our-previous-example-a-measurement-on-13259-has-an-accuracy-of-0000831475-making-it-somewhere-between-1325068525-and-1326731475-the-resolution-however-is-00001-01-mv-so-the-last-significant-digits-are-meaningless-note-the-displayed-value-is-still-limited-to-four-digits-after-the-decimal-point-the-correct-way-to-communicate-this-measurement-is-13259-v-00009-v-the-obtained-value-for-the-accuracy-is-almost-always-rounded-up-hardware-accuracy-is-known-to-the-driver-through-knowledge-of-which-device-its-communicating-with-and-should-be-transmitted-to-the-frontend-including-extra-counts-accuracy-specifications-displayed-value-the-value-displayed-on-the-device-may-be-limited-by-the-number-of-digits-available-on-a-7-segment-display-and-may-well-have-less-resolution-than-the-device-can-handle-what-opentracecapture-receives-from-the-device-may-thus-be-a-number-with-extra-digits-tacked-on-compared-to-whats-on-the-display-this-may-or-may-not-be-beyond-the-resolution-or-accuracy-of-the-device-nevertheless-opentracecapture-receives-the-number-and-will-transmit-it-to-the-frontend-it-may-be-useful-to-a-frontend-to-know-how-many-digits-are-actually-displayed-on-the-device-however-if-it-chooses-to-mimic-that-display-in-some-way-should-the-displayed-value-resolution-be-transmitted-to-the-frontend-the-displayed-value-should-always-be-transmitted-to-the-frontend-unaltered-unless-the-device-datasheet-or-manual-specifies-that-the-precision-of-the-measurement-is-higher-than-the-one-displayed-and-the-full-precision-is-communicated-through-the-pc-interface-opentracelab-should-never-assume-that-the-precision-is-higher-than-the-precision-of-the-displayed-value-unless-explicitly-documented-by-the-manufacturer-proposed-solutions-exact-decimal-representation-struct-sr_decimal-int64_t-value-int32_t-pow_ten-the-sr_decimal-is-an-exact-representation-of-a-measurement-the-significand-or-mantissa-is-kept-in-base-10-making-it-immune-to-all-issues-that-a-base-2-representation-has-its-value-is-value-pow10-pow_ten-see-httpsgitoriousorgmrnukeopentracelabopentracecapturecommitsacc-for-details-of-implementation-proposal-advantages-exact-representation-of-measurement-immune-to-floating-point-inconsistencies-and-rounding-issues-disadvantages-very-difficult-to-work-with-not-really-usable-as-a-math-type-usually-requires-conversion-to-double-beforehand-requires-a-large-amount-of-memory-usually-more-than-twice-of-the-equivalent-ascii-representation-requires-complex-printf-logic-signaling-conditions-such-as-nan-or-inf-requires-helper-functions-waste-of-storage-space-most-of-the-bytes-will-usually-be-0-suffers-from-reinventing-the-wheel-problem-requires-helper-functions-for-almost-anything-requires-thoughtful-and-intrusive-re-factoring-of-opentracecapture-leading-zeros-not-handled-correctly-inexact-floating-point-representation-with-precision-metadata-struct-sr_measurement-double-value-uint8_t-sigfig-the-sr_measurement-is-an-inexact-representation-of-a-measurement-it-relies-on-the-fact-that-a-double-can-store-about-12-digits-before-the-least-significant-digit-is-affected-by-rounding-issues-although-devices-with-12-digit-precision-do-not-exist-it-is-believed-that-sr_measurement-can-store-about-12-digits-reliably-sr_measurement-contains-a-field-to-specify-the-number-significant-digits-that-is-the-number-of-digits-that-should-be-printed-for-a-correct-representation-of-the-measurement-see-httpsgitoriousorgmrnukeopentracelabopentracecapturecommitsprec-for-details-of-implementation-proposal-advantages-more-natural-to-work-with-the-value-can-extracted-as-a-double-with-minimal-overhead-signaling-of-conditions-such-as-nan-or-inf-is-identical-to-treatment-of-a-double-makes-more-efficient-use-of-storage-space-requires-a-minimal-amount-of-helper-functions-no-reinventing-the-wheel-requires-minimal-re-factoring-of-opentracecapture-disadvantages-inexact-representation-of-measurement-may-suffer-from-floating-point-inconsistencies-and-rounding-issues-should-not-be-an-issue-for-most-devices-printf-logic-requires-use-of-log10-function-leading-zeros-not-handled-correctly-exact-representation-of-raw-data-and-metadata-this-is-a-somewhat-different-proposal-rather-than-defining-a-datatype-to-represent-any-single-value-with-its-own-metadata-the-concept-is-to-use-an-array-of-data-in-a-primitive-type-such-as-may-come-directly-from-a-device-as-raw-data-along-with-metadata-that-describes-the-encoding-and-precision-of-those-values-struct-sr_analog-raw-values-void-data-uint64_t-count-encoding-of-raw-values-uint8_t-unitsize-gboolean-signed-gboolean-float-gboolean-bigendian-precision-of-raw-values-uint8_t-precision-gboolean-decimal-relationship-to-true-values-struct-sr_rational-scale-struct-sr_rational-offset-the-fields-are-as-follows-data-pointer-to-the-raw-encoded-values-count-number-of-values-unitsize-number-of-bytes-used-in-the-encoding-of-each-individual-value-signed-whether-the-encoding-is-signed-or-unsigned-2s-complement-format-is-to-be-used-drivers-have-to-convert-the-data-if-its-not-yet-in-2s-complement-format-float-whether-the-encoding-is-floating-point-or-integer-bigendian-whether-the-encoding-is-big-endian-or-little-endian-mixed-endianness-is-not-supported-drivers-have-to-convert-such-data-precision-the-precision-of-the-raw-values-in-decimal-or-binary-digits-or-0-if-unknown-decimal-whether-precision-is-specified-in-decimal-or-binary-digits-scale-scale-factor-that-must-be-applied-to-the-raw-values-to-obtain-true-units-offset-offset-that-must-be-applied-after-scaling-to-obtain-true-values-examples-a-digital-multimeter-sends-values-in-ascii-strings-such-as-0345-these-have-4-digits-of-decimal-precision-so-can-be-stored-in-16-bit-signed-integers-the-single-value-0345-could-be-stored-with-metadata-as-follows-int16_t-value-345-struct-sr_analog-metadata-data-value-count-1-unitsize-2-signed-true-float-false-bigendian-big_endian-defined-true-or-false-according-to-platform-precision-4-decimal-true-scale-1-1000-offset-0-1-an-oscilloscope-sends-a-block-of-raw-14-bit-adc-values-encoded-as-16-bit-unsigned-integers-the-meaning-of-these-depends-on-the-scope-settings-the-raw-values-have-14-digits-of-binary-precision-they-can-be-stored-as-follows-struct-sr_analog-metadata-data-values-read-directly-from-device-count-xxx-driver-provides-this-information-unitsize-2-signed-false-float-false-bigendian-xxx-driver-provides-this-information-precision-14-decimal-false-scale-xxx-driver-provides-this-information-offset-xxx-driver-provides-this-information-an-input-format-contains-blocks-of-analog-data-in-32-bit-little-endian-floats-the-file-format-does-not-define-the-precision-struct-sr_analog-metadata-data-values-read-directly-from-file-count-xxx-input-provides-this-information-unitsize-4-float-true-bigendian-false-precision-0-scale-xxx-input-provides-this-information-from-metadata-in-file-offset-0-advantages-exact-representation-of-measurement-efficient-storage-for-arrays-of-values-precision-can-be-represented-correctly-for-both-decimal-and-binary-data-unknown-precision-can-also-be-represented-where-eg-raw-adc-values-are-the-input-precision-applies-correctly-to-the-raw-values-independent-of-implicit-scaling-and-offset-allows-direct-use-of-raw-data-from-a-device-in-many-scenarios-minimizing-work-to-be-done-in-the-driver-at-capture-time-math-operations-can-be-done-efficiently-on-the-raw-values-with-metadata-for-the-result-updated-separately-disadvantages-non-trivial-for-client-code-to-process-directly-helper-functions-would-have-to-be-provided-eg-sr_analog_to_double-resources-wikipedia-accuracy-and-precision-fluke-understanding-specifications-for-precision-multimeters-pdf-national-instruments-digital-multimeter-measurement-fundamentals-keithley-low-level-measurements-handbook-pdf-agilent-how-to-select-a-handheld-dmm-that-is-right-for-you-short-info-on-resolution-digit-and-accuracy-pdf">Problem statement We have a problem with the current SR_DF_ANALOG packets: the analog numbers are passed along as floats -- platform-specific versions of the C <code>float</code> type. The following summarizes what we need to solve: ### Some numbers are just plain wrong A floating point type is well known to be unable to store accurate representations of some numbers, as mentioned <a href="http://en.wikipedia.org/wiki/Floating_point#Accuracy_problems">here</a>. This hits us hard. In one driver the analog value is extracted from a device packet by dividing the derived value by 10, to convert to the single digit after the decimal point that is always implied. A value of "354" turns into not 35.4, but 35.400002; 353 turns into 35.299999. Note that these numbers are representations of the floats with <code>printf()</code>'s default precision of 6 digits after the decimal point; using <code>".20f"</code> produces 35.39999999999999857891. <strong>The numbers need to be stored and transmitted exactly as they were input by the driver.</strong> ### Resolution #### Understanding precision Precision is casually defined as how close together a series of measurements of the same quantity are. However, this definition is confusing when one speaks of the precision of one measurement. A meter stick with markings 1 cm apart can only produce a precision of 1 cm. For example, a measurement of 23 cm implies that the value is anywhere between 22.5 cm and 23.5 cm. On the other hand, a stick with marking 1 mm apart will produce a more precise measurement: 23.0 cm implies that the value is anywhere between 22.95 cm and 23.05 cm. It might be tempting to think of these measurements as: 1 cm precision: 23 cm Â± 0.5 cm (WRONG!!!!) 1 mm precision: 23 cm Â± 0.05 cm (WRONG!!!!) The correct way to denote precision is via the number of significant figures presented with the measurement: 1 cm precision: 23 cm (CORRECT - implies measurement is between 22.5 cm and 23.5 cm ) 1 mm precision: 23.0 cm (CORRECT - implies measurement is between 22.95 cm and 23.05 cm) It is extremely important to note that <strong>trailing zeroes are significant</strong>. The precision is inferred from the number of significant digits. #### The OpenTraceLab dilemma Returning to our problem, a floating point data type has no notion whatsoever about the precision of the measurement. It has an intrinsic precision related to the size (number of bits) of the mantissa, which has nothing to do with the precision of the measurement. Consider a device which always outputs a single digit after the decimal point; there is no more information beyond that digit. But we have no way of communicating that fact to the frontend. The <code>float</code> type doesn't store this information along with the value, and indeed changes the input value in such a way that the value can't even be truncated so as to make the resolution obvious (or irrelevant). There is simply no way that a frontend can receive 35.400002 and conclude that 35.4 is the proper number to display. Removing trailing zeroes is not a solution, as a value of 35.0 might incorrectly be truncated to 35. While a value such as "35.4000" might reasonably be displayed as "35.4", it is nevertheless helpful (and common, in test &amp; measurement gear) to display numbers at their full resolution; this gives a visual indication of that resolution. A frontend shouldn't have to assume or truncate anything; it should have exact information about what the device provided. <strong>We need precision information transmitted along with the value.</strong> ### Accuracy <strong>Do not confuse accuracy with precision.</strong> #### Understanding accuracy Accuracy refers to how close a measurement is to the value being measured. A very common (and correct) way to describe accuracy is the uncertainty of a measurement. ##### Offset error Let's return to our meter stick example. The meter stick with 1 mm markings might be missing a 2 cm chunk. It cannot be accurate; the measurement in that case would be presented as: 23.0 cm Â± 2.0 cm Note that although the precision is 0.05 cm, the accuracy is completely different. ##### Linearity error A meter stick might, for example be calibrated at 25 Â°C, but specified to be accurate from -10 Â°C to 60 Â°C. Due to contraction and dilation, at -10 Â°C the 23.0 mark might be closer to 22.8 cm, while at 60 Â°C, it might be closer to 23.3 cm. In this example, temperature is an external factor which affects the final measurement. It is unreasonable or impossible to estimate the error exactly, especially since the error grows linearly with the size of the measurement. This error is usually included in the specifications of the device, as an unknown. In this case it would be reasonable for the accuracy to be specified as 1.5 % of measurement So that at 23.0 cm, the value is 23.0 Â± 0.3 cm at 86.0 cm, the value is 86.0 Â± 1.2 cm Again, the accuracy and precision are not the same. ##### Nonlinear error Nonlinear errors are errors which are neither an offset error, nor a linearity error. They are beyond the scope of this article; a device's stated accuracy usually accounts for this type of error. ##### Calibration Generally the accuracy as specified by the manufacturer is warranted only as long as the device is calibrated (compared to a known source, not necessarily always adjusted) regularly. Some high-end multimeters might store the last calibration date and possibly other parameters relevant for high-performance measurements, e.g. temperature, power-on time, number of power cycles. Probably it would be best so add such information to the data, if available. #### The OpenTraceLab dilemma The value supplied by a device may differ from its resolution â€” it may supply 35.4, but have a resolution that makes this 35.400 â€” but this can still differ from how accurately the device can make a measurement. This accuracy is rarely supplied by the device along with the measurement, but commonly stated in the device's specifications. For example, the <em>Fluke 187</em> has a DC voltage measurement specification stated as Accuracy Â± (0.025%+5) Max. resolution 1 ÂµV This defines the accuracy of the measurement as 0.025% of the value plus 5 "counts" (least significant digits on the display). The true value can be anywhere up or down by this amount from the displayed value. The given <strong>maximum resolution is not the same for every range</strong>. The <em>Fluke 187</em> has a resolution of 50000 counts, so in order to get the maximum resolution of 1 ÂµV, the device must be set to the 50 mV (50000 ÂµV) range. Since the device can only distinguish 50000 values, a measurement of 1.3259, for example, will have a resolution of 0.1 mV; the device will not be able to distinguish voltage differences below that value. If it could, then the measurement would be 1.325900, and the device would have to be a 5000000 (5 million) count. Expanding on our previous example, a measurement on 1.3259 has an accuracy of Â±0.000831475 â€” making it somewhere between 1.325068525 and 1.326731475. The resolution, however, is 0.0001 (0.1 mV), so the last significant digits are meaningless. Note the <em>displayed</em> value is still limited to four digits after the decimal point! The correct way to communicate this measurement is: 1.3259 V Â± 0.0009 V The obtained value for the accuracy is almost always rounded up. <strong>Hardware accuracy is known to the driver through knowledge of which device it's communicating with, and should be transmitted to the frontend -- including "extra counts" accuracy specifications.</strong> ### Displayed value The value displayed on the device may be limited by the number of digits available on a 7-segment display, and may well have less resolution than the device can handle. What OpenTraceCapture receives from the device may thus be a number with extra digits tacked on, compared to what's on the display. This may or may not be beyond the resolution or accuracy of the device. Nevertheless OpenTraceCapture receives the number and will transmit it to the frontend. It may be useful to a frontend to know how many digits are actually displayed on the device, however, if it chooses to mimic that display in some way. <strong>Should the displayed value resolution be transmitted to the frontend?</strong> The displayed value should always be transmitted to the frontend unaltered, unless the device datasheet or manual specifies that the precision of the measurement is higher than the one displayed, and the full precision is communicated through the PC interface. OpenTraceLab should never assume that the precision is higher than the precision of the displayed value unless explicitly documented by the manufacturer. ## Proposed solutions ### Exact decimal representation struct sr_decimal { int64_t value; int32_t pow_ten; }; The <code>sr_decimal</code> is an exact representation of a measurement. The significand, or mantissa is kept in base 10, making it immune to all issues that a base 2 representation has. Its value is <code>value * pow(10, pow_ten)</code>. See <a href="https://gitorious.org/~mrnuke/OpenTraceLab/OpenTraceCapture/commits/acc">https://gitorious.org/~mrnuke/OpenTraceLab/OpenTraceCapture/commits/acc</a> for details of implementation proposal. <strong>Advantages:</strong> - Exact representation of measurement - Immune to floating-point inconsistencies and rounding issues <strong>Disadvantages:</strong> - Very difficult to work with - Not really usable as a math type (usually requires conversion to double beforehand) - Requires a large amount of memory -- usually more than twice of the equivalent ASCII representation. - Requires complex printf logic - Signaling conditions such as NAN or INF requires helper functions - Waste of storage space -- most of the bytes will usually be 0 - Suffers from "reinventing the wheel" problem -- requires helper functions for almost anything - Requires thoughtful and intrusive re-factoring of OpenTraceCapture - Leading zeros not handled correctly. ### Inexact floating-point representation with precision metadata struct sr_measurement { double value; uint8_t sigfig; }; The <code>sr_measurement</code> is an inexact representation of a measurement. It relies on the fact that a <code>double</code> can store about 12 digits before the least significant digit is affected by rounding issues. Although devices with 12-digit precision do not exist, it is believed that <code>sr_measurement</code> can store about 12 digits reliably. <code>sr_measurement</code> contains a field to specify the number significant digits -- that is, the number of digits that should be printed for a correct representation of the measurement. See <a href="https://gitorious.org/~mrnuke/OpenTraceLab/OpenTraceCapture/commits/prec">https://gitorious.org/~mrnuke/OpenTraceLab/OpenTraceCapture/commits/prec</a> for details of implementation proposal. <strong>Advantages:</strong> - More natural to work with -- the value can extracted as a double with minimal overhead - Signaling of conditions such as NAN or INF is identical to treatment of a <code>double</code> - Makes more efficient use of storage space - Requires a minimal amount of helper functions -- no "reinventing the wheel" - Requires minimal re-factoring of OpenTraceCapture <strong>Disadvantages:</strong> - Inexact representation of measurement - May suffer from floating-point inconsistencies and rounding issues -- should not be an issue for most devices - printf logic requires use of log10 function - Leading zeros not handled correctly. ### Exact representation of raw data and metadata This is a somewhat different proposal. Rather than defining a datatype to represent any single value with its own metadata, the concept is to use an array of data in a primitive type (such as may come directly from a device as raw data), along with metadata that describes the encoding and precision of those values. struct sr_analog { // Raw values void <em>data; uint64_t count; // Encoding of raw values uint8_t unitsize; gboolean signed; gboolean float; gboolean bigendian; // Precision of raw values uint8_t precision; gboolean decimal; // Relationship to true values struct sr_rational scale; struct sr_rational offset; }; The fields are as follows: - </em><em>data</em><em> - pointer to the raw, encoded values. - </em><em>count</em><em> - number of values. - </em><em>unitsize</em><em> - number of bytes used in the encoding of each individual value. - </em><em>signed</em><em> - whether the encoding is signed or unsigned (2's complement format is to be used; drivers have to convert the data if it's not yet in 2's complement format). - </em><em>float</em><em> - whether the encoding is floating-point or integer. - </em><em>bigendian</em><em> - whether the encoding is big-endian or little-endian (mixed endianness is not supported, drivers have to convert such data). - </em><em>precision</em><em> - the precision of the raw values, in decimal or binary digits, or 0 if unknown. - </em><em>decimal</em><em> - whether precision is specified in decimal or binary digits. - </em><em>scale</em><em> - Scale factor that must be applied to the raw values to obtain true units. - </em><em>offset</em><em> - Offset that must be applied, after scaling, to obtain true values. #### Examples - A digital multimeter sends values in ASCII strings such as "-0.345". These have 4 digits of decimal precision, so can be stored in 16-bit signed integers. The single value "-0.345" could be stored with metadata as follows:  int16_t value = -345; struct sr_analog metadata = { .data = &value;, .count = 1, .unitsize = 2, .signed = TRUE, .float = FALSE, .bigendian = BIG_ENDIAN, // defined TRUE or FALSE according to platform. .precision = 4, .decimal = TRUE, .scale = {1, 1000}, .offset = {0, 1}, }; - An oscilloscope sends a block of raw 14-bit ADC values encoded as 16-bit unsigned integers. The meaning of these depends on the scope settings. The raw values have 14 digits of binary precision. They can be stored as follows:  struct sr_analog metadata = { .data = values, // read directly from device. .count = XXX, // driver provides this information. .unitsize = 2, .signed = FALSE, .float = FALSE, .bigendian = XXX, // driver provides this information. .precision = 14, .decimal = FALSE, .scale = XXX, // driver provides this information. .offset = XXX, // driver provides this information. }; - An input format contains blocks of analog data in 32-bit little endian floats. The file format does not define the precision.  struct sr_analog metadata = { .data = values, // read directly from file. .count = XXX, // input provides this information. .unitsize = 4, .float = TRUE, .bigendian = FALSE, .precision = 0, .scale = XXX, // input provides this information from metadata in file. .offset = 0, }; </em><em>Advantages</em><em> - Exact representation of measurement. - Efficient storage for arrays of values. - Precision can be represented correctly for both decimal and binary data. Unknown precision can also be represented. - Where e.g. raw ADC values are the input, precision applies correctly to the raw values, independent of implicit scaling and offset. - Allows direct use of raw data from a device in many scenarios, minimizing work to be done in the driver at capture time. - Math operations can be done efficiently on the raw values, with metadata for the result updated separately. </em><em>Disadvantages</em>* - Non-trivial for client code to process directly - helper functions would have to be provided, eg. sr_analog_to_double(). ## Resources - <a href="https://en.wikipedia.org/wiki/Accuracy_and_precision">Wikipedia: Accuracy and precision</a> - <a href="http://www.newark.com/pdfs/techarticles/fluke/UnderstandingPrecisionMeasurements.pdf">Fluke: Understanding specifications for precision multimeters</a> (PDF) - <a href="http://www.ni.com/white-paper/3295/en">National Instruments: Digital Multimeter Measurement Fundamentals</a> - <a href="http://www.keithley.com/knowledgecenter/knowledgecenter_pdf/LowLevMsHandbk_1.pdf">Keithley: Low-level measurements handbook</a> (PDF) - <a href="http://cp.literature.agilent.com/litweb/pdf/5990-5197EN.pdf">Agilent: How to select a Handheld DMM that is RIGHT for you</a> (short info on "resolution, digit, and accuracy") (PDF)<a class="headerlink" href="#problem-statement-we-have-a-problem-with-the-current-sr_df_analog-packets-the-analog-numbers-are-passed-along-as-floats-platform-specific-versions-of-the-c-float-type-the-following-summarizes-what-we-need-to-solve-some-numbers-are-just-plain-wrong-a-floating-point-type-is-well-known-to-be-unable-to-store-accurate-representations-of-some-numbers-as-mentioned-here-this-hits-us-hard-in-one-driver-the-analog-value-is-extracted-from-a-device-packet-by-dividing-the-derived-value-by-10-to-convert-to-the-single-digit-after-the-decimal-point-that-is-always-implied-a-value-of-354-turns-into-not-354-but-35400002-353-turns-into-35299999-note-that-these-numbers-are-representations-of-the-floats-with-printfs-default-precision-of-6-digits-after-the-decimal-point-using-20f-produces-3539999999999999857891-the-numbers-need-to-be-stored-and-transmitted-exactly-as-they-were-input-by-the-driver-resolution-understanding-precision-precision-is-casually-defined-as-how-close-together-a-series-of-measurements-of-the-same-quantity-are-however-this-definition-is-confusing-when-one-speaks-of-the-precision-of-one-measurement-a-meter-stick-with-markings-1-cm-apart-can-only-produce-a-precision-of-1-cm-for-example-a-measurement-of-23-cm-implies-that-the-value-is-anywhere-between-225-cm-and-235-cm-on-the-other-hand-a-stick-with-marking-1-mm-apart-will-produce-a-more-precise-measurement-230-cm-implies-that-the-value-is-anywhere-between-2295-cm-and-2305-cm-it-might-be-tempting-to-think-of-these-measurements-as-1-cm-precision-23-cm-05-cm-wrong-1-mm-precision-23-cm-005-cm-wrong-the-correct-way-to-denote-precision-is-via-the-number-of-significant-figures-presented-with-the-measurement-1-cm-precision-23-cm-correct-implies-measurement-is-between-225-cm-and-235-cm-1-mm-precision-230-cm-correct-implies-measurement-is-between-2295-cm-and-2305-cm-it-is-extremely-important-to-note-that-trailing-zeroes-are-significant-the-precision-is-inferred-from-the-number-of-significant-digits-the-opentracelab-dilemma-returning-to-our-problem-a-floating-point-data-type-has-no-notion-whatsoever-about-the-precision-of-the-measurement-it-has-an-intrinsic-precision-related-to-the-size-number-of-bits-of-the-mantissa-which-has-nothing-to-do-with-the-precision-of-the-measurement-consider-a-device-which-always-outputs-a-single-digit-after-the-decimal-point-there-is-no-more-information-beyond-that-digit-but-we-have-no-way-of-communicating-that-fact-to-the-frontend-the-float-type-doesnt-store-this-information-along-with-the-value-and-indeed-changes-the-input-value-in-such-a-way-that-the-value-cant-even-be-truncated-so-as-to-make-the-resolution-obvious-or-irrelevant-there-is-simply-no-way-that-a-frontend-can-receive-35400002-and-conclude-that-354-is-the-proper-number-to-display-removing-trailing-zeroes-is-not-a-solution-as-a-value-of-350-might-incorrectly-be-truncated-to-35-while-a-value-such-as-354000-might-reasonably-be-displayed-as-354-it-is-nevertheless-helpful-and-common-in-test-measurement-gear-to-display-numbers-at-their-full-resolution-this-gives-a-visual-indication-of-that-resolution-a-frontend-shouldnt-have-to-assume-or-truncate-anything-it-should-have-exact-information-about-what-the-device-provided-we-need-precision-information-transmitted-along-with-the-value-accuracy-do-not-confuse-accuracy-with-precision-understanding-accuracy-accuracy-refers-to-how-close-a-measurement-is-to-the-value-being-measured-a-very-common-and-correct-way-to-describe-accuracy-is-the-uncertainty-of-a-measurement-offset-error-lets-return-to-our-meter-stick-example-the-meter-stick-with-1-mm-markings-might-be-missing-a-2-cm-chunk-it-cannot-be-accurate-the-measurement-in-that-case-would-be-presented-as-230-cm-20-cm-note-that-although-the-precision-is-005-cm-the-accuracy-is-completely-different-linearity-error-a-meter-stick-might-for-example-be-calibrated-at-25-c-but-specified-to-be-accurate-from-10-c-to-60-c-due-to-contraction-and-dilation-at-10-c-the-230-mark-might-be-closer-to-228-cm-while-at-60-c-it-might-be-closer-to-233-cm-in-this-example-temperature-is-an-external-factor-which-affects-the-final-measurement-it-is-unreasonable-or-impossible-to-estimate-the-error-exactly-especially-since-the-error-grows-linearly-with-the-size-of-the-measurement-this-error-is-usually-included-in-the-specifications-of-the-device-as-an-unknown-in-this-case-it-would-be-reasonable-for-the-accuracy-to-be-specified-as-15-of-measurement-so-that-at-230-cm-the-value-is-230-03-cm-at-860-cm-the-value-is-860-12-cm-again-the-accuracy-and-precision-are-not-the-same-nonlinear-error-nonlinear-errors-are-errors-which-are-neither-an-offset-error-nor-a-linearity-error-they-are-beyond-the-scope-of-this-article-a-devices-stated-accuracy-usually-accounts-for-this-type-of-error-calibration-generally-the-accuracy-as-specified-by-the-manufacturer-is-warranted-only-as-long-as-the-device-is-calibrated-compared-to-a-known-source-not-necessarily-always-adjusted-regularly-some-high-end-multimeters-might-store-the-last-calibration-date-and-possibly-other-parameters-relevant-for-high-performance-measurements-eg-temperature-power-on-time-number-of-power-cycles-probably-it-would-be-best-so-add-such-information-to-the-data-if-available-the-opentracelab-dilemma-the-value-supplied-by-a-device-may-differ-from-its-resolution-it-may-supply-354-but-have-a-resolution-that-makes-this-35400-but-this-can-still-differ-from-how-accurately-the-device-can-make-a-measurement-this-accuracy-is-rarely-supplied-by-the-device-along-with-the-measurement-but-commonly-stated-in-the-devices-specifications-for-example-the-fluke-187-has-a-dc-voltage-measurement-specification-stated-as-accuracy-00255-max-resolution-1-v-this-defines-the-accuracy-of-the-measurement-as-0025-of-the-value-plus-5-counts-least-significant-digits-on-the-display-the-true-value-can-be-anywhere-up-or-down-by-this-amount-from-the-displayed-value-the-given-maximum-resolution-is-not-the-same-for-every-range-the-fluke-187-has-a-resolution-of-50000-counts-so-in-order-to-get-the-maximum-resolution-of-1-v-the-device-must-be-set-to-the-50-mv-50000-v-range-since-the-device-can-only-distinguish-50000-values-a-measurement-of-13259-for-example-will-have-a-resolution-of-01-mv-the-device-will-not-be-able-to-distinguish-voltage-differences-below-that-value-if-it-could-then-the-measurement-would-be-1325900-and-the-device-would-have-to-be-a-5000000-5-million-count-expanding-on-our-previous-example-a-measurement-on-13259-has-an-accuracy-of-0000831475-making-it-somewhere-between-1325068525-and-1326731475-the-resolution-however-is-00001-01-mv-so-the-last-significant-digits-are-meaningless-note-the-displayed-value-is-still-limited-to-four-digits-after-the-decimal-point-the-correct-way-to-communicate-this-measurement-is-13259-v-00009-v-the-obtained-value-for-the-accuracy-is-almost-always-rounded-up-hardware-accuracy-is-known-to-the-driver-through-knowledge-of-which-device-its-communicating-with-and-should-be-transmitted-to-the-frontend-including-extra-counts-accuracy-specifications-displayed-value-the-value-displayed-on-the-device-may-be-limited-by-the-number-of-digits-available-on-a-7-segment-display-and-may-well-have-less-resolution-than-the-device-can-handle-what-opentracecapture-receives-from-the-device-may-thus-be-a-number-with-extra-digits-tacked-on-compared-to-whats-on-the-display-this-may-or-may-not-be-beyond-the-resolution-or-accuracy-of-the-device-nevertheless-opentracecapture-receives-the-number-and-will-transmit-it-to-the-frontend-it-may-be-useful-to-a-frontend-to-know-how-many-digits-are-actually-displayed-on-the-device-however-if-it-chooses-to-mimic-that-display-in-some-way-should-the-displayed-value-resolution-be-transmitted-to-the-frontend-the-displayed-value-should-always-be-transmitted-to-the-frontend-unaltered-unless-the-device-datasheet-or-manual-specifies-that-the-precision-of-the-measurement-is-higher-than-the-one-displayed-and-the-full-precision-is-communicated-through-the-pc-interface-opentracelab-should-never-assume-that-the-precision-is-higher-than-the-precision-of-the-displayed-value-unless-explicitly-documented-by-the-manufacturer-proposed-solutions-exact-decimal-representation-struct-sr_decimal-int64_t-value-int32_t-pow_ten-the-sr_decimal-is-an-exact-representation-of-a-measurement-the-significand-or-mantissa-is-kept-in-base-10-making-it-immune-to-all-issues-that-a-base-2-representation-has-its-value-is-value-pow10-pow_ten-see-httpsgitoriousorgmrnukeopentracelabopentracecapturecommitsacc-for-details-of-implementation-proposal-advantages-exact-representation-of-measurement-immune-to-floating-point-inconsistencies-and-rounding-issues-disadvantages-very-difficult-to-work-with-not-really-usable-as-a-math-type-usually-requires-conversion-to-double-beforehand-requires-a-large-amount-of-memory-usually-more-than-twice-of-the-equivalent-ascii-representation-requires-complex-printf-logic-signaling-conditions-such-as-nan-or-inf-requires-helper-functions-waste-of-storage-space-most-of-the-bytes-will-usually-be-0-suffers-from-reinventing-the-wheel-problem-requires-helper-functions-for-almost-anything-requires-thoughtful-and-intrusive-re-factoring-of-opentracecapture-leading-zeros-not-handled-correctly-inexact-floating-point-representation-with-precision-metadata-struct-sr_measurement-double-value-uint8_t-sigfig-the-sr_measurement-is-an-inexact-representation-of-a-measurement-it-relies-on-the-fact-that-a-double-can-store-about-12-digits-before-the-least-significant-digit-is-affected-by-rounding-issues-although-devices-with-12-digit-precision-do-not-exist-it-is-believed-that-sr_measurement-can-store-about-12-digits-reliably-sr_measurement-contains-a-field-to-specify-the-number-significant-digits-that-is-the-number-of-digits-that-should-be-printed-for-a-correct-representation-of-the-measurement-see-httpsgitoriousorgmrnukeopentracelabopentracecapturecommitsprec-for-details-of-implementation-proposal-advantages-more-natural-to-work-with-the-value-can-extracted-as-a-double-with-minimal-overhead-signaling-of-conditions-such-as-nan-or-inf-is-identical-to-treatment-of-a-double-makes-more-efficient-use-of-storage-space-requires-a-minimal-amount-of-helper-functions-no-reinventing-the-wheel-requires-minimal-re-factoring-of-opentracecapture-disadvantages-inexact-representation-of-measurement-may-suffer-from-floating-point-inconsistencies-and-rounding-issues-should-not-be-an-issue-for-most-devices-printf-logic-requires-use-of-log10-function-leading-zeros-not-handled-correctly-exact-representation-of-raw-data-and-metadata-this-is-a-somewhat-different-proposal-rather-than-defining-a-datatype-to-represent-any-single-value-with-its-own-metadata-the-concept-is-to-use-an-array-of-data-in-a-primitive-type-such-as-may-come-directly-from-a-device-as-raw-data-along-with-metadata-that-describes-the-encoding-and-precision-of-those-values-struct-sr_analog-raw-values-void-data-uint64_t-count-encoding-of-raw-values-uint8_t-unitsize-gboolean-signed-gboolean-float-gboolean-bigendian-precision-of-raw-values-uint8_t-precision-gboolean-decimal-relationship-to-true-values-struct-sr_rational-scale-struct-sr_rational-offset-the-fields-are-as-follows-data-pointer-to-the-raw-encoded-values-count-number-of-values-unitsize-number-of-bytes-used-in-the-encoding-of-each-individual-value-signed-whether-the-encoding-is-signed-or-unsigned-2s-complement-format-is-to-be-used-drivers-have-to-convert-the-data-if-its-not-yet-in-2s-complement-format-float-whether-the-encoding-is-floating-point-or-integer-bigendian-whether-the-encoding-is-big-endian-or-little-endian-mixed-endianness-is-not-supported-drivers-have-to-convert-such-data-precision-the-precision-of-the-raw-values-in-decimal-or-binary-digits-or-0-if-unknown-decimal-whether-precision-is-specified-in-decimal-or-binary-digits-scale-scale-factor-that-must-be-applied-to-the-raw-values-to-obtain-true-units-offset-offset-that-must-be-applied-after-scaling-to-obtain-true-values-examples-a-digital-multimeter-sends-values-in-ascii-strings-such-as-0345-these-have-4-digits-of-decimal-precision-so-can-be-stored-in-16-bit-signed-integers-the-single-value-0345-could-be-stored-with-metadata-as-follows-int16_t-value-345-struct-sr_analog-metadata-data-value-count-1-unitsize-2-signed-true-float-false-bigendian-big_endian-defined-true-or-false-according-to-platform-precision-4-decimal-true-scale-1-1000-offset-0-1-an-oscilloscope-sends-a-block-of-raw-14-bit-adc-values-encoded-as-16-bit-unsigned-integers-the-meaning-of-these-depends-on-the-scope-settings-the-raw-values-have-14-digits-of-binary-precision-they-can-be-stored-as-follows-struct-sr_analog-metadata-data-values-read-directly-from-device-count-xxx-driver-provides-this-information-unitsize-2-signed-false-float-false-bigendian-xxx-driver-provides-this-information-precision-14-decimal-false-scale-xxx-driver-provides-this-information-offset-xxx-driver-provides-this-information-an-input-format-contains-blocks-of-analog-data-in-32-bit-little-endian-floats-the-file-format-does-not-define-the-precision-struct-sr_analog-metadata-data-values-read-directly-from-file-count-xxx-input-provides-this-information-unitsize-4-float-true-bigendian-false-precision-0-scale-xxx-input-provides-this-information-from-metadata-in-file-offset-0-advantages-exact-representation-of-measurement-efficient-storage-for-arrays-of-values-precision-can-be-represented-correctly-for-both-decimal-and-binary-data-unknown-precision-can-also-be-represented-where-eg-raw-adc-values-are-the-input-precision-applies-correctly-to-the-raw-values-independent-of-implicit-scaling-and-offset-allows-direct-use-of-raw-data-from-a-device-in-many-scenarios-minimizing-work-to-be-done-in-the-driver-at-capture-time-math-operations-can-be-done-efficiently-on-the-raw-values-with-metadata-for-the-result-updated-separately-disadvantages-non-trivial-for-client-code-to-process-directly-helper-functions-would-have-to-be-provided-eg-sr_analog_to_double-resources-wikipedia-accuracy-and-precision-fluke-understanding-specifications-for-precision-multimeters-pdf-national-instruments-digital-multimeter-measurement-fundamentals-keithley-low-level-measurements-handbook-pdf-agilent-how-to-select-a-handheld-dmm-that-is-right-for-you-short-info-on-resolution-digit-and-accuracy-pdf" title="Permanent link">&para;</a></h2>
<p>Retrieved from "<a href="https://OpenTraceLab.org/w/index.php?title=High_precision_analog&amp;oldid=12724">https://OpenTraceLab.org/w/index.php?title=High_precision_analog&amp;oldid=12724</a>"</p>
<h2 id="see-also">See Also<a class="headerlink" href="#see-also" title="Permanent link">&para;</a></h2>
<ul>
<li><a href="../../supported-hardware/">Supported Hardware Overview</a></li>
<li><a href="../../../opentracecapture/overview/">OpenTraceCapture Documentation</a></li>
</ul>












                
  <button id="otl-report-issue"
        title="Report issue (includes your selection)"
        class="md-button md-button--primary"
        style="position: fixed; right: 1rem; bottom: 1.2rem; z-index: 999;">
  Report issue
</button>

              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">

        <small>
          Portions of this documentation are adapted from the sigrok project (CC-BY-SA 3.0).
          OpenTraceLab documentation is licensed under Creative Commons Attribution-ShareAlike 4.0 International (CC-BY-SA 4.0).
        </small>
      </div>
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "../../..", "features": ["navigation.top", "navigation.tabs", "navigation.sections", "navigation.footer", "content.action.edit", "content.action.view", "toc.integrate", "content.code.copy"], "search": "../../../assets/javascripts/workers/search.973d3a69.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": {"provider": "mike"}}</script>
    
    
      <script src="../../../assets/javascripts/bundle.f55a23d4.min.js"></script>
      
        <script src="../../../overrides/assets/javascripts/report-issue.js"></script>
      
        <script src="https://unpkg.com/mermaid@10.6.1/dist/mermaid.min.js"></script>
      
    
  </body>
</html>