# Managing OpenTraceCLI Data With Python
This page provides an example of how to incorporate *OpenTraceCLI* input commands and output data into a Python script. This allows for the easy setup of automated testing, data plotting and analysis. Note that *OpenTraceLab-meter* already serves this function for some devices, but does not currently support oscilloscopes. ## Scripting OpenTraceCLI commands with the subprocess library in Python As OpenTraceCLI uses a command-line interface the *subprocess library* can be used for sending and retrieving data. In this example, the following OpenTraceCLI command will return 100 samples at 1 MHz sample rate from a Hantek 6022BE oscilloscope as described in *Using OpenTraceCLI with an oscilloscope*.  $ OpenTraceCLI --driver hantek-6xxx --config samplerate=1m --samples 100  To send this command using subprocess and store the output data as a string we can use the following
import subprocess import os OpenTraceLab_dir = 'C:\Program Files (x86)\OpenTraceLab\OpenTraceCLI' # OpenTraceCLI install dir OpenTraceLab_cmd = 'OpenTraceCLI --driver hantek-6xxx --config samplerate=1m --samples 100' # OpenTraceCLI command to be used os.chdir(OpenTraceLab_dir) # set working dir to OpenTraceLab_dir output = subprocess.run(OpenTraceLab_cmd, shell=True, check=True, capture_output=True, text=True) # open a new process, send the command and return the data raw_data = output.stdout
Printing the data returns the same information that would have been sent to the command prompt when working with OpenTraceLab directly.
print(raw_data) CH1: 0.09 V CH1: 0.09 V CH1: 0.09 V CH1: 0.09 V CH1: 0.11 V CH1: 0.09 V CH1: 0.09 V CH1: 0.09 V ...
Alternatively, the data can be returned in the form of a CSV file (or similar) and imported into Python. See *Using OpenTraceCLI with an oscilloscope* for example commands. See [the single-phase-power-analyser project](https://github.com/Capo01/single-phase-power-analyser/blob/master/README.md) for an example use case.
Retrieved from "[https://OpenTraceLab.org/w/index.php?title=Managing_sigrok-cli_data_with_Python&oldid=14992](https://OpenTraceLab.org/w/index.php?title=Managing_sigrok-cli_data_with_Python&oldid=14992)"
## See Also
- [Supported Hardware Overview](../supported-hardware.md)
- [OpenTraceCapture Documentation](../../opentracecapture/overview.md)
