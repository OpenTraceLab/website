# Fx2Lafw
**fx2lafw** is an open-source firmware for Cypress FX2 chips which makes them usable as simple logic analyzer and/or oscilloscope hardware. It is licensed under the terms of the **GNU GPL (version 2, or later)** and written in C, using [sdcc](http://sdcc.sourceforge.net/) as compiler, and [fx2lib](https://github.com/mulicheng/fx2lib) as helper library.
## Contents
\- *1 Hardware overview* \- *1.1 Logic Analyzers / mixed-signal devices* \- *1.2 Oscilloscopes* \- *2 Download* \- *3 Usage* \- *3.1 Build OpenTraceLab* \- *3.2 Install the udev rules file* \- *3.3 Build fx2lafw* \- *3.4 Pre-built firmware files* \- *4 Cypress FX2 vs. FX2LP* \- *5 Resources*
## Hardware overview The fx2lafw firmware is meant to work on any FX2-based hardware, including logic analyzers, FX2 eval boards, oscilloscopes, or other hardware which has this chip on-board. Here's a quick overview of some of the relevant hardware information we have about the various devices. The devices marked as **Clone** are those that clone the USB VID/PID of the original product, and also have no own PC software/firmware, but instead illegally ship the software of the original product/manufacturer. ### Logic Analyzers / mixed-signal devices The following logic analyzer / mixed-signal devices are supported (if marked as such) by fx2lafw (and by the [fx2lafw](http://github.com/OpenTraceLab/?p=OpenTraceCapture.git;a=tree;f=src/hardware/fx2lafw) driver in *OpenTraceCapture*): | | | | | | | | | | |----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------|------------------------------|----------------|---------------|-------------------------|-----------|-----------------------------------------|------------------| | Device | USB VID:PID | Product type | Probes (pins) | FX2 package | Buffer / ESD-protection | Resistors | I2C EEPROM | Status | | *6-Lab LOGIC-U*5 | ? | Clone (Logic) | ? | ? | ? | ? | ? | 100% | | *6-Lab LOGIC-U PLUS*5 | ? | Clone (AX-Pro) | ? | ? | ? | ? | ? | 95%1 | | *6-Lab LOGIC-U PRO*5 | ? | Clone (AX-Pro) | ? | ? | ? | ? | ? | 95%1 | | *6-Lab LOGIC-U ISL*5 | ? | Clone (Logic) | ? | ? | ? | ? | ? | 100% | | *ARMFLY AX-Pro* | 08a9:0014 | Clone (AX-Pro) | 8 (+1 analog) | 56LTXC (QFN) | ? | 100 Ω | Atmel ATML920 24C02N SU27 D | 95%1 | | *ARMFLY Mini-Logic*2 | 08a9:0014 | Clone (AX-Pro w/o scope) | 8 | 56LTXC (QFN) | ? | 100 Ω | Atmel ATML920 24C02N SU27 D | 100% | | *Braintechnology USB Interface V2.x* | 04b4:8613 | Eval board | 8/16 | 56PVXC (SSOP) | none | none | Microchip 24LC64I | 100% | | *Braintechnology USB-LPS* | 16d0:0498 | Original product | 8/16 | 56PVXC (SSOP) | none | ? 68 Ω | Atmel ATML0816 TINY13 20SU | 100% | | [CWAV BusBee](https://OpenTraceLab.org/w/index.php?title=CWAV_BusBee&action=edit&redlink=1 "CWAV BusBee \(page does not exist\)") | ? | Original product | 4 | ? | ? | ? | ? | TODO | | [CWAV USBee AX-Standard](https://OpenTraceLab.org/w/index.php?title=CWAV_USBee_AX-Standard&action=edit&redlink=1 "CWAV USBee AX-Standard \(page does not exist\)") | [08a9:0012](http://www.mikrocontroller.net/topic/136039#1878129) | Original product | ? | ? | ? | ? | ? | TODO | | [CWAV USBee AX-Plus](https://OpenTraceLab.org/w/index.php?title=CWAV_USBee_AX-Plus&action=edit&redlink=1 "CWAV USBee AX-Plus \(page does not exist\)") | [08a9:0013](http://www.mikrocontroller.net/topic/136039#1878129) | Original product | ? | ? | ? | ? | ? | TODO | | [CWAV USBee AX-Pro](https://OpenTraceLab.org/w/index.php?title=CWAV_USBee_AX-Pro&action=edit&redlink=1 "CWAV USBee AX-Pro \(page does not exist\)") | [08a9:0014](http://www.mikrocontroller.net/topic/136039#1878129) | Original product | 8 (+1 analog) | ? | ? | ? | ? | 100% | | [CWAV USBee DX](https://OpenTraceLab.org/w/index.php?title=CWAV_USBee_DX&action=edit&redlink=1 "CWAV USBee DX \(page does not exist\)") | [08a9:0015](http://www.mikrocontroller.net/topic/136039#1878129) | Original product | 16 (+2 analog) | ? | ? | ? | ? | TODO | | [CWAV USBee EX2](https://OpenTraceLab.org/w/index.php?title=CWAV_USBee_EX2&action=edit&redlink=1 "CWAV USBee EX2 \(page does not exist\)") | ? | Original product | 8 | ? | ? | ? | ? | TODO | | *CWAV USBee SX* | 08a9:0009 | Original product | 8 | 56PVXC (SSOP) | none | 560 Ω | Microchip 24LC01B | 100% | | [CWAV USBee ZX](https://OpenTraceLab.org/w/index.php?title=CWAV_USBee_ZX&action=edit&redlink=1 "CWAV USBee ZX \(page does not exist\)") | 08a9:0005 | Original product | 8 | 56PVXC (SSOP) | none | ? | ? | 100% | | *EE Electronics ESLA100* | 0925:3881 | Clone (Logic) | 8 | 56LFXC (QFN) | NXP 74HC245D | 100 Ω | Atmel ATMLH911 02B 1 | 100% | | *EE Electronics ESLA201A* | 08a9:0014 | Clone (AX) | 8 (+1 analog) | 56LFXC (QFN) | none | 100 Ω | Atmel ATMLH113 | 95%1 | | *HT USBee-AxPro* | 08a9:0014 | Clone (AX) | 8 (+1 analog) | 56PVXC (SSOP) | none | none | Microchip 24LC641 + 24LC02B | 100% | | [ITead Studio MiniLogic](http://iteadstudio.com/store/index.php?main_page=product_info&cPath=2&products_id=221)4  | ? | Clone (Logic, AX w/o scope) | ? | ? | ? | ? | ? | 100% | | [ITead Studio ITDB01](http://iteadstudio.com/store/index.php?main_page=product_info&cPath=1&products_id=51) | ? | Eval board | ? | ? | ? | ? | ? | 100% | | *Lcsoft Mini Board* | 04b4:8613 / 0925:3881 | Eval board / Clone (Logic) | 8/16 | 56PVXC (SSOP) | none | none | Shenzhen First-Rank Technology T24C128A | 100% | | *MCU123 Saleae Logic clone* | 0925:3881 | Clone (Logic) | 8 | 56PVC (SSOP) | NXP 74HC245 | 100 Ω | Atmel AT24C02 | 100% | | *MCU123 USBee AX Pro clone*2 | 08a9:0014 | Clone (AX-Pro w/o scope) | 8 | 56PVXC (SSOP) | NXP 74HC245 | 100 Ω | Atmel AT24C02 | 100% | | [MDSO-LA](http://www.ebay.co.uk/itm/MDSO-LA-20MHz-USB-Digital-oscilloscope-48M-Sampling-16-channel-logic-analyzer-/251119761248?pt=UK_BOI_Electrical_Test_Measurement_Equipment_ET&hash=item3a77e77760&_uhb=1) | ? | Clone (SX, AX-Pro) | ? | ? | ? | ? | ? | 100% | | [Mollex Logic Analyzer](http://translate.google.com/translate?sl=ru&tl=en&js=n&prev=_t&hl=de&ie=UTF-8&layout=2&eotf=1&u=http%3A%2F%2Fwww.rom.by%2Fforum%2FLogicheskij_analizator_signalov_USBee_AX_Saleae_Logic_45&act=url)3 | ? | Clone (Logic, AX w/o scope) | ? | ? | ? | ? | ? | 100% | | [Noname Saleae Logic clone I](http://translate.google.com/translate?hl=de&sl=zh-CN&tl=en&u=http%3A%2F%2Fitem.taobao.com%2Fitem.htm%3Fid%3D6076642324) | ? | Clone (Logic) | ? | ? | ? | ? | ? | 100% | | [Pandatron PLA8](http://translate.google.com/translate?sl=cs&tl=en&js=n&prev=_t&ie=UTF-8&eotf=1&u=http%3A%2F%2Fpandatron.cz%2F%3F2729%26klon_logickeho_analyzatoru_saleae&act=url) ([S](https://translate.googleusercontent.com/translate_c?act=url&depth=1&hl=de&ie=UTF8&prev=_t&rurl=translate.google.com&sl=cs&tl=en&u=http://pandatron.cz/%3Fshop%26sla%3D2%26pn%3D90113%26tx%3Dpla8_modul_-_logicky_analyzator_pro_usb&usg=ALkJrhjOD7bJQd1xRz_BFS3hxg31kE7FSQ), [E](http://www.ebay.de/itm/USB-Logic-Analyzer-and-decoder-8-CH-10-GS-CY7C68013A-USB-2-0-/221154315071)) | ? | Clone (Logic) | 8 | 56PVXC (SSOP) | SN74LVC245APWR | 100 Ω | ? | 100% | | *picavr Digital USB Analyzer v1* | ? | Clone (Logic, AX w/o scope) | ? | ? | ? | ? | ? | 100% | | *picavr A/D USB Analyzer v2* | ? | Clone (Logic, AX) | ? | ? | ? | ? | ? | 95%1 | | *picavr A/D USB Analyzer v3* | ? | Clone (Logic, AX) | ? | ? | ? | ? | ? | 95%1 | | *picavr A/D USB Analyzer v4* | ? | Clone (Logic, AX) | ? | ? | ? | ? | ? | 95%1 | | [Robomotic BugLogic 2](http://lab.robomotic.com/index.php?page=shop.product_details&flypage=flypage.tpl&product_id=22&category_id=6&vmcchk=1&option=com_virtuemart&Itemid=56) | ? | Clone (Logic, SX/ZX) | ? | ? | ? | ? | ? | 100% | | *Robomotic BugLogic 3* | 0925:3881 | Clone (Logic) | 8 | ? | ? | ? | ? | 100% | | *Robomotic MiniLogic* | 0925:3881 | Clone (Logic, AX w/o scope) | 8 | 56PVXC (SSOP) | 74HC244A | ? | 2x Microchip 24LC02BI, 1x 24LC64I | 100% | | [Robomotic XZL024](http://lab.robomotic.com/index.php?page=shop.product_details&flypage=flypage.tpl&product_id=26&category_id=6&vmcchk=1&option=com_virtuemart&Itemid=56)7 | 08a9:0014 | Clone (AX-Pro) | 8 (+2 analog) | 56LTXC (QFN) | ? | 100 Ω | Atmel 24C02N | 95%1 | | *Saleae Logic* | 0925:3881 | Original product | 8 | 56PVXC (SSOP) | ST DVIULC6-4SC6 | ? | ? | 100% | | *Sysclk AX-Pro* | 08a9:0014 | Clone (AX) | 8 (+2 analog) | 56LTXC (QFN) | none | ? | Atmel AT24C02N | 100% | | [Sysclk Box](http://www.wholesale-in-china.org/articles/article-194265.htm) | ? | Clone (SX, AX-Pro w/o scope) | ? | ? | ? | ? | ? | 100% | | [WeAct LogicAnalyzerV1](https://github.com/WeActStudio/LogicAnalyzerV1)9 | 1d50:608c | Eval board | 8 | QFN56 | SN74LVC541APWRG4 | ? | CAT24C256YI-GT3 | 100% | | *XZL_Studio AX*6 | 08a9:0014 | Clone (AX-Pro) | 8 (+2 analog) | 56LTXC (QFN) | ? | 100 Ω | Atmel 24C02N | 95%1 | | *XZL Studio DX* | 2x 08a9:0015 | Clone (DX) | 16 (+2 analog) | 56PVXC (SSOP) | none | 390 Ω | Atmel ATML H136 24C02C M Y | 90%18 | All devices use a 24MHz crystal. For 8 probes the FX2 pins PB0-PB7 are used, for 16 probes PB0-PB7 and PD0-PD7. For analog support PD0-PD7 (plus additional hardware) is usually used. 1 Analog signal support is not yet implemented. 2 Even though this device has the same USB VID/PID as the CWAV USBee AX-Pro, it only has 8 channels and no analog support. 3 Clone of the USBee AX and Saleae Logic. "Mollex" is the name of the guy who seems to sell it on some forum. 4 Clone of the USBee AX (SX?) and Saleae Logic, see also [here](http://iteadstudio.com/copied/hack-a-saleae-logic-analyzer/) and [here](http://iteadstudio.com/produce/seleae-logic-usbee-ax-usb-blaster/). Dissection by a user [here](http://www.todopic.com.ar/foros/index.php?topic=32657.0). Seems to be the same hardware as the *Robomotic MiniLogic*. 5 It seems 6-Labs [has/had permission from Saleae](http://electronicsjunk.com/index.php?option=com_content&view=article&id=52:saleae-logic-analyzer-&catid=34:electronics&Itemid=59) to distribute the hardware in Ukraine (only)? *Various adapters* are available, for example RS422/RS232/CAN, galvanic isolation, "BNC divider". 6 There is apparently *a post from the author of XZL-Studio AX* in some forum. 7 There's [an RS232/RS485/RS422/CAN converter board](http://lab.robomotic.com/shop?page=shop.product_details&flypage=flypage.tpl&product_id=27&category_id=6) for this. 8 Digital channels have invalid numbers, check *XZL Studio DX* for details. 9 Uses Corebai CBM9002A (Cypress CY7C68013A clone) ### Oscilloscopes The following oscilloscope devices are supported (if marked as such) by fx2lafw (and by the [hantek-6xxx](http://github.com/OpenTraceLab/?p=OpenTraceCapture.git;a=tree;f=src/hardware/hantek-6xxx) driver in *OpenTraceCapture*): | | | | | | | | | | | | |-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|------------------------|------------------|------------|-----------|----------|---------------|-------------------------|-----------|-----------------------|--------| | Device | USB VID:PID | Product type | Analog ch. | Logic ch. | Coupling | FX2 package | Buffer / ESD-protection | Resistors | I2C EEPROM | Status | | *Hantek 6022BE*2 | 04b4:6022 | Original product | 2 | — | DC only | 100AXC (TQFP) | — | — | Microchip 24LC02BI | 100% | | *Hantek 6022BL* | 04b4:602a or 0925:3881 | Original product | 2 | 8/16 | AC/DC | 100AXC (TQFP) | TI SN74LVC16245A | 300 Ω | 2x Microchip 24LC02BI | 100% | | *Instrustar ISDS205A* | d4a2:5661 | Original product | 2 | — | AC/DC | 56PVXC (SSOP) | — | — | Microchip 24LC64I | 0% | | *Instrustar ISDS205X* | d4a2:5661 or 0925:3881 | Original product | 2 + 1 | 8/16 | AC/DC | 56PVXC (SSOP) | TI SN74LVC16245A | 1 MΩ | 2x Microchip 24LC02B | 0% | | *YiXingDianZi MDSO* | d4a2:5660 | Original product | 2 | — | DC only | 56PVXC (SSOP) | — | — | Microchip 24LC64I | 90% | | *Rocktech BM102*1 | 8102:8102 | Original product | 2 | — | AC/DC | 100AXC (TQFP) | — | — | Microchip 24LC64I | 100% | | *SainSmart DDS120*1 | 8102:8102 | Original product | 2 | — | AC/DC | 100AXC (TQFP) | — | — | Microchip 24LC64I | 100% | | *SainSmart DDS140* | 8312:8312 or 04b4:8613 | Original product | 2 | ? | AC/DC | 100AXC (TQFP) | ? | ? | Microchip 24LC64I | 0% | | [Voltcraft DSO-2020](https://OpenTraceLab.org/w/index.php?title=Voltcraft_DSO-2020&action=edit&redlink=1 "Voltcraft DSO-2020 \(page does not exist\)")2 | 04b4:2020 | Original product | 2 | — | DC only | 100AXC (TQFP) | — | — | Microchip 24LC02BI | 0% | 1 The *Rocktech BM102* is a rebadged *SainSmart DDS120* (or vice versa). 1 The [Voltcraft DSO-2020](https://OpenTraceLab.org/w/index.php?title=Voltcraft_DSO-2020&action=edit&redlink=1 "Voltcraft DSO-2020 \(page does not exist\)") is a rebadged *Hantek 6022BE*.  ## Download Released versions of the source code can be downloaded here: http://OpenTraceLab.org/download/source/OpenTraceLab-firmware-fx2lafw/ There are also **pre-built firmware files** that can be used without having to build them from source: http://OpenTraceLab.org/download/binary/OpenTraceLab-firmware-fx2lafw/ Or you can get the latest development snapshot of the source code from git: $ git clone git://OpenTraceLab.org/OpenTraceLab-firmware-fx2lafw You can also [browse the source code](http://github.com/OpenTraceLab/?p=OpenTraceLab-firmware-fx2lafw.git;a=tree) via gitweb. ## Usage ### Build OpenTraceLab \- Build and install a *OpenTraceCapture* frontend (CLI or GUI) with OpenTraceCapture \>= 0.1.1 (or latest git HEAD) for your platform as usual, see *Building*. ### Install the udev rules file These steps prevent the need to run OpenTraceCapture frontends as superuser. \- Copy the udev rules file from **OpenTraceCapture/contrib/60-OpenTraceCapture.rules** to **/etc/udev/rules.d/** \- Install either **61-OpenTraceCapture-uaccess.rules** or **61-OpenTraceCapture-plugdev.rules** to the same directory. The **61-OpenTraceCapture-uaccess.rules** is typically used on a system using the systemd/logind mechanism to grant access to plugged in devices to the currently active user. **61-OpenTraceCapture-plugdev.rules** grants access to all users in the *plugdev* group. The latter may also serve as a template for creating a local, system specific access rule. ### Build fx2lafw $ cd OpenTraceLab-firmware-fx2lafw $ ./autogen.sh $ ./configure $ make $ sudo make install This will install the firmware files into **/usr/local/share/OpenTraceLab-firmware/**, per default. ### Pre-built firmware files There are also pre-built firmware files that can be used without having to build them from source (see *above*). ## Cypress FX2 vs. FX2LP Various devices supported by fx2lafw can use either the older Cypress CY7C68013 (FX2) or the more recent Cypress CY7C68013A (FX2LP). There are [various differences](http://www.cypress.com/?id=4&rID=31723) between the two ICs, see [AN4078 - Migrating From EZ-USB FX2 to EZ-USB FX2LP](http://www.cypress.com/?rID=12968) ([PDF](http://www.cypress.com/?docID=39449)) for the details. There are known cases of e.g. the *CWAV USBee SX* having shipped with an FX2 at some point, and more recent units shipping with an FX2LP. Also, it's not too uncommon that some FX2 "eval board" or clone of an existing logic analyser (e.g. *CWAV USBee SX* or *Saleae Logic* ones) has "CY7C68013A (FX2LP)" chip markings, but in reality it really is an older "CY7C68013 (FX2)". The fx2lafw firmware supports both devices (FX2 and FX2LP). ## Resources \- [sdcc](http://sdcc.sourceforge.net/) (C compiler for 8051 microcontrollers, usable for FX2) \- fx2lib: [SF project page](http://sourceforge.net/projects/fx2lib/), [blog article](http://allmybrain.com/2008/12/05/an-open-source-library-for-writing-firmware-on-the-cypress-fx2-with-sdcc/), [github repo](https://github.com/mulicheng/fx2lib), [mailing list](http://sourceforge.net/mailarchive/forum.php?forum_name=fx2lib-devel) \- [Cypress FX2](http://www.cypress.com/?id=193) docs: \- [CY7C68013A, CY7C68014A, CY7C68015A, CY7C68016A datasheet](http://www.cypress.com/?rID=38801) ([PDF](http://www.cypress.com/file/138911/download)) \- [EZ-USB Technical Reference Manual (TRM)](http://www.cypress.com/?rID=38232) ([PDF](http://www.cypress.com/file/126446/download)) \- [EZ-USB FX2LP appnotes](http://www.cypress.com/?id=193&rtID=76) \- [EZ-USB FX2LP errata](http://www.cypress.com/?id=193&rtID=111) \- [GPIF Designer](http://www.cypress.com/?rID=14448) (Windows software, requires login) \- [CY3681 EZ-USB FX2 Development Kit](http://www.cypress.com/?rID=14319) (GPIF designer downloadable without login) \- [AN4078 - Migrating From EZ-USB FX2 to EZ-USB FX2LP](http://www.cypress.com/?rID=12968) ([PDF](http://www.cypress.com/?docID=39449))
Retrieved from "[https://OpenTraceLab.org/w/index.php?title=Fx2lafw&oldid=16676](https://OpenTraceLab.org/w/index.php?title=Fx2lafw&oldid=16676)"
## See Also
- [Supported Hardware Overview](../supported-hardware.md)
- [OpenTraceCapture Documentation](../../opentracecapture/overview.md)
